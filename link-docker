docker-machine active
docker-machine ip <name>
#sudo snap install docker #vorsicht !

#ip a 172.17.0.1



# mysql
# read this https://hub.docker.com/_/mysql
# cd ~/UEB/ex2/mdim/code/mysql
sudo docker build -t mysql-test-i:1.0 .
sudo docker run --name mysql-test-con -e MYSQL_ROOT_PASSWORD=test -e MYSQL_DATABASE=docker_in_motion -d mysql-test-i:1.0


sudo docker rename mysql-test-con mysql
sudo docker ps

sudo docker pull howtocodewell/manning-webserver-01:1.6 #or
sudo docker built -t howtocodewell/manning-webserver-01:1.6 . #
docker pull howtocodewell/manning-database-server-01
docker pull howtocodewell/manning-webserver-01

#Linking
#Lecacy way
#sudo docker run --name web-server -p 80:80 --link mysql -d web-test
sudo docker run --name web-server -p 80:80 --link mysql -d howtocodewell/manning-webserver-01:1.6

sudo dpkg --configure -a
sudo apt install net-tools
netstat -tlnp | grep 80
sudo netstat -tlnp
# sudo kill -9 PID


sudo docker stop web-server
suo docker rm -f web-server


sudo docker run --name web-server -p 80:80 -d howtocodewell/manning-webserver-01:1.6
sudo docker network create -d bridge manning_net
sudo docker network ls

sudo docker network connect manning_net mysql
sudo docker network connect manning_net web-server
sudo docker inspect manning_net

sudo docker logs web-server2

sudo fuser -k 80/tcp
#sudo systemctl status apache

